{% extends "emails/base_email.html" %}

{% block subject %}Nouveau message: {{ message.subject }}{% endblock %}

{% block content %}
<h2 style="margin:0 0 16px 0;font-size:20px;font-weight:600;color:#0b0f19;">Nouveau message</h2>

<p style="margin:0 0 16px 0;line-height:1.6;color:#374151;">
  Bonjour {{ recipient.get_full_name|default:recipient.username }},
</p>

<p style="margin:0 0 16px 0;line-height:1.6;color:#374151;">
  Vous avez reçu un nouveau message de {{ sender.get_full_name|default:sender.username }}.
</p>

<div style="background:#f9fafb;border-left:4px solid #0f6b4c;padding:16px;margin:16px 0;border-radius:6px;">
  <h3 style="margin:0 0 8px 0;font-size:14px;font-weight:600;color:#374151;">Sujet:</h3>
  <p style="margin:0 0 12px 0;line-height:1.6;color:#6b7280;">{{ message.subject }}</p>
  
  <h3 style="margin:0 0 8px 0;font-size:14px;font-weight:600;color:#374151;">Aperçu du message:</h3>
  <div style="margin:0;line-height:1.6;color:#6b7280;max-height:100px;overflow:hidden;">
    {{ message.content|truncatewords:30|striptags }}
  </div>
</div>

<div style="text-align:center;margin:24px 0;">
  <a href="{{ branding.site_url|default:'#' }}/messaging/" 
     style="display:inline-block;background:#0f6b4c;color:#ffffff;padding:12px 24px;text-decoration:none;border-radius:6px;font-weight:600;">
    Lire le message complet
  </a>
</div>

<p style="margin:16px 0 0 0;line-height:1.6;color:#374151;">
  Connectez-vous à votre espace pour lire le message complet et y répondre.
</p>

<p style="margin:16px 0 0 0;line-height:1.6;color:#6b7280;font-size:14px;">
  Cordialement,<br>
  L'équipe {{ company_name|default:"NetExpress" }}
</p>
{% endblock %}